---
import Button from './Button.astro';

const plans = [
  {
    name: "Start",
    description: "Zacznij za darmo",
    price: "0 zł",
    credits: "3 kredyty",
    features: [
      "3 darmowe generacje",
      "Weryfikacja email",
      "Dostęp do wszystkich funkcji",
      "Pobieranie wyników",
    ],
    cta: "Zacznij za darmo",
    popular: false,
  },
  {
    name: "Doładowanie",
    description: "Więcej generacji",
    price: "10 zł",
    credits: "15 kredytów",
    features: [
      "15 generacji fryzur",
      "Jednorazowa płatność",
      "Dostęp do wszystkich funkcji",
      "Pobieranie wyników",
      "Priorytetowe wsparcie",
    ],
    cta: "Kup teraz",
    popular: true,
  },
];
---

<section id="cennik" class="py-20 md:py-32 relative">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-foreground mb-4">
        Prosty cennik
      </h2>
      <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
        1 kredyt = 1 generacja fryzury. Zacznij za darmo, doładuj gdy potrzebujesz.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-8 max-w-3xl mx-auto">
      {plans.map((plan) => (
        <div
          class={`relative p-8 rounded-2xl border transition-all ${
            plan.popular
              ? "bg-gradient-to-br from-primary/10 to-accent/5 border-primary/50 shadow-lg shadow-primary/10"
              : "bg-card/50 border-border hover:border-primary/30"
          }`}
        >
          {plan.popular && (
            <div class="absolute -top-4 left-1/2 -translate-x-1/2">
              <div class="inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full bg-primary text-primary-foreground text-sm font-medium">
                <!-- Sparkles icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
                  <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                  <path d="M20 3v4"/>
                  <path d="M22 5h-4"/>
                  <path d="M4 17v2"/>
                  <path d="M5 18H3"/>
                </svg>
                Najpopularniejszy
              </div>
            </div>
          )}

          <div class="mb-6">
            <div class="flex items-center gap-2 mb-2">
              {plan.popular ? (
                <!-- Zap icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-primary">
                  <path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/>
                </svg>
              ) : (
                <!-- Sparkles icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-muted-foreground">
                  <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                  <path d="M20 3v4"/>
                  <path d="M22 5h-4"/>
                  <path d="M4 17v2"/>
                  <path d="M5 18H3"/>
                </svg>
              )}
              <h3 class="text-xl font-semibold text-foreground">{plan.name}</h3>
            </div>
            <p class="text-muted-foreground text-sm">{plan.description}</p>
          </div>

          <div class="mb-6">
            <div class="flex items-baseline gap-2">
              <span class="text-4xl font-bold text-foreground">{plan.price}</span>
              <span class="text-muted-foreground">/ {plan.credits}</span>
            </div>
          </div>

          <ul class="space-y-3 mb-8">
            {plan.features.map((feature) => (
              <li class="flex items-center gap-3">
                <div class={`w-5 h-5 rounded-full flex items-center justify-center ${
                  plan.popular ? "bg-primary/20" : "bg-secondary"
                }`}>
                  <!-- Check icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class={`w-3 h-3 ${plan.popular ? "text-primary" : "text-muted-foreground"}`}>
                    <path d="M20 6 9 17l-5-5"/>
                  </svg>
                </div>
                <span class="text-sm text-muted-foreground">{feature}</span>
              </li>
            ))}
          </ul>

          <Button
            href="https://app.ciachnaprobe.pl/"
            class={`w-full h-12 ${
              plan.popular
                ? "bg-primary hover:bg-primary/90 text-primary-foreground"
                : "bg-secondary hover:bg-secondary/80 text-foreground border border-border"
            }`}
          >
            {plan.cta}
          </Button>
        </div>
      ))}
    </div>

    <p class="text-center text-sm text-muted-foreground mt-8">
      Płatności obsługiwane przez Stripe. Bezpieczne i szyfrowane.
    </p>
  </div>
</section>
